{"type":"flopack","version":"1.5.0","created":"2025-09-05T08:08:14.176Z","flags":{"auto-transform":true,"looseBooleans":true,"looseStrings":true,"looseNulls":true},"data":{"flos":{"8bf705d9-64e0-46bf-9d49-c3ded024fdbd":{"id":"8bf705d9-64e0-46bf-9d49-c3ded024fdbd","name":"amr hook","description":"","data":{"id":null,"uuid":"8bf705d9-64e0-46bf-9d49-c3ded024fdbd","display":{"preview":[{"module":"http","name":"accept","kernel":true},{"module":"string","name":"compose","kernel":true},{"module":"control","name":"returnRaw","kernel":true},{"module":"json","name":"stringify","kernel":true},{"module":"string","name":"compose","kernel":true},{"module":"http","name":"","kernel":true}],"eventConnecterName":"API Endpoint","isCallable":false,"isPublishable":true},"tree":{"id":2,"name":"empty","description":"This flow has been build w/o a tree and uses the newer, async, Addressing module."},"methods":[{"joins":{},"address":"root:kernel:http:0.0.1:accept","parents":{"version":{"address":"root:kernel:http:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:http","key":"http","data":{"name":"http"}}},"uuid":"ig5XMXjNK","branches":{},"node":{"key":"accept","data":{"name":"API Endpoint"},"model":{"type":"method","_v":2,"key":"accept","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":true,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"API Endpoint","description":"Accept input to start a Flow."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"groupRules":{},"data":{"Od1JdIocMo":{"id":"Od1JdIocMo","group":"raw","key":"headers","value":{"type":"object","collection":false,"data":{}},"ref":false,"metadata":{"hidden":true,"index":0},"required":false,"flags":"d"},"YLZa1NU7_1":{"id":"YLZa1NU7_1","group":"raw","key":"query","value":{"type":"string","collection":false,"data":""},"ref":false,"metadata":{"hidden":true,"index":2},"required":false,"flags":"d"},"_vKeOhrzza":{"id":"_vKeOhrzza","group":"context","key":"execution_id","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Execution ID","index":3},"required":false,"flags":"d"},"Hl9J_G0lz":{"id":"Hl9J_G0lz","group":"raw","key":"body","value":{"type":"string","collection":false,"data":""},"ref":false,"metadata":{"hidden":true,"index":1},"required":false,"flags":"d"},"Mq4l4UQaD3":{"id":"Mq4l4UQaD3","group":"body","key":"data","value":{"error":false,"type":{"identity":{"type":{"claims":{"type":{"amr":{"type":"string","collection":true},"sub":{"type":"string","collection":false}},"collection":false}},"collection":false}},"collection":false,"data":{},"available":["string","number","boolean","Date","Array","object","file","flo","folder"]},"ref":false,"metadata":{"index":4,"custom":true},"required":false,"flags":"d","_used":true}}},"outputs":{"extensible":false,"rules":{"*":{"types":["*"],"collection":"*"}},"groupRules":{"body":{"type":"object","reserved":{},"extensible":true},"headers":{"type":"object","reserved":{"Content-Type":"string"},"extensible":true},"query":{"type":"object","reserved":{},"extensible":true},"context":{"extensible":false}},"data":{"fXEMuf1Rz1":{"id":"fXEMuf1Rz1","group":"raw","key":"headers","value":{"type":"object","collection":false,"data":{}},"ref":false,"metadata":{"hidden":true,"index":0}},"UaqfE9V34S":{"id":"UaqfE9V34S","group":"raw","key":"body","value":{"type":"string","collection":false,"data":""},"ref":false,"metadata":{"hidden":true,"index":1}},"EuER22UXy0":{"id":"EuER22UXy0","group":"raw","key":"query","value":{"type":"string","collection":false,"data":""},"ref":false,"metadata":{"hidden":true,"index":2}},"5OsQzxCoKl":{"id":"5OsQzxCoKl","group":"context","key":"execution_id","value":{"error":false,"type":"string","collection":false,"data":null,"available":[]},"ref":false,"metadata":{"displayname":"Execution ID","index":3}},"QES4a4x34":{"id":"QES4a4x34","group":"body","key":"data","value":{"error":false,"type":{"identity":{"type":{"claims":{"type":{"amr":{"type":"string","collection":true},"sub":{"type":"string","collection":false}},"collection":false}},"collection":false}},"collection":false,"data":{},"available":["string","number","boolean","Date","Array","object","file","flo","folder"]},"ref":false,"metadata":{"index":4,"custom":true},"_used":true}}},"runtime":{}}},"pins":{"QES4a4x34":{"bxyDUNpRSY":[{"input":"Tm9Ph_MvSn","transform":null}]}}},{"joins":{},"address":"root:kernel:string:0.0.1:compose","parents":{"version":{"address":"root:kernel:string:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:string","key":"string","data":{"name":"string"}}},"uuid":"3MaTuoFJ9","branches":{},"node":{"key":"compose","data":{"name":"Compose"},"model":{"type":"method","_v":2,"key":"compose","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Compose","description":"Enter free form text and optionally drag fields into your text like a mail merge."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["string"],"collection":false}},"data":{"Q1awIo-kAg":{"id":"Q1awIo-kAg","group":null,"key":"_text_","value":{"type":"string","collection":false,"data":"{ \n  \"commands\": [\n      { \n          \"type\":\"com.okta.access.patch\",\n          \"value\": [\n          {\n              \"op\": \"add\",\n              \"path\": \"/claims/amr\",\n              \"value\": {{{B18gGLIhb}}}\n          }\n         ]\n     }\n ]\n}","available":[],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"79t22eR_uT":{"id":"79t22eR_uT","group":null,"key":"B18gGLIhb","value":{"error":false,"proxy":false,"check":false,"type":"string","collection":false,"data":"","available":["string"]},"required":false,"ref":false,"metadata":{"index":1},"flags":"d"}}},"outputs":{"extensible":false,"data":{"ecxg211Kx5":{"id":"ecxg211Kx5","group":null,"key":"output","value":{"type":"string","collection":false,"data":""},"ref":false,"metadata":{"index":0},"_used":true}}},"runtime":{}}},"pins":{"ecxg211Kx5":{"s9QbKHbgD":[{"input":"JlOueR7ML0","transform":null}]}}},{"joins":{},"address":"root:kernel:control:0.0.1:returnRaw","parents":{"version":{"address":"root:kernel:control:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:control","key":"control","data":{"name":"control"}}},"uuid":"s9QbKHbgD","branches":{},"node":{"key":"returnRaw","data":{"name":"Return Raw"},"model":{"type":"method","_v":2,"key":"returnRaw","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":true,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Return Raw","description":"Return raw http data from a Flow to the caller, such as XML."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{"UuU7RgPPMa":{"id":"UuU7RgPPMa","group":null,"key":"statusCode","value":{"type":"number","collection":false,"data":200},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"},"nP-f7zSYlf":{"id":"nP-f7zSYlf","group":null,"key":"headers","value":{"type":"object","collection":false,"data":{}},"required":true,"ref":false,"metadata":{"index":1},"flags":"d"},"JlOueR7ML0":{"id":"JlOueR7ML0","group":null,"key":"body","value":{"type":"string","collection":false,"data":"","available":[],"error":false},"required":false,"ref":false,"metadata":{"index":2},"flags":"d"}}},"outputs":{"extensible":false,"data":{"MfAXnDgbQA":{"id":"MfAXnDgbQA","group":null,"key":"statusCode","value":{"type":"number","collection":false,"data":200},"ref":false,"metadata":{"forceHide":true,"index":0}},"Btc5Tv6LpF":{"id":"Btc5Tv6LpF","group":null,"key":"headers","value":{"type":"object","collection":false,"data":{}},"ref":false,"metadata":{"forceHide":true,"index":1}},"Tg5klmvWuQ":{"id":"Tg5klmvWuQ","group":null,"key":"body","value":{"type":"string","collection":false,"data":"","available":[],"error":false},"ref":false,"metadata":{"index":2},"flags":"d"}}},"runtime":{}}},"pins":{}},{"joins":{},"address":"root:kernel:json:0.0.1:stringify","parents":{"version":{"address":"root:kernel:json:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:json","key":"json","data":{"name":"json"}}},"uuid":"_tlWWfm-g","branches":{},"node":{"key":"stringify","data":{"name":"Stringify"},"model":{"type":"method","_v":2,"key":"stringify","executable":true,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Stringify","description":"Convert a JSON object to a string (text)."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"rules":{"object":{"types":["string","number","Date","boolean","object"],"collection":"*"}},"data":{"KlZBtTx0s":{"id":"KlZBtTx0s","group":null,"key":"object","value":{"type":"string","collection":true,"data":[],"available":[],"error":false},"required":true,"ref":false,"metadata":{"index":0,"ghost":{"displayChannelName":"http","displayName":"object","id":"heLq3jKN6@"}},"flags":"d"}}},"outputs":{"extensible":false,"data":{"-cC0rCGeoo":{"id":"-cC0rCGeoo","group":null,"key":"output","value":{"type":"string","collection":false,"data":null},"ref":false,"metadata":{"index":0},"_used":true}}},"runtime":{}}},"pins":{"-cC0rCGeoo":{"3MaTuoFJ9":[{"input":"79t22eR_uT","transform":null}]}}},{"joins":{},"address":"root:kernel:string:0.0.1:compose","parents":{"version":{"address":"root:kernel:string:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:string","key":"string","data":{"name":"string"}}},"uuid":"tjMeJYAdN","branches":{},"node":{"key":"compose","data":{"name":"Compose"},"model":{"type":"method","_v":2,"key":"compose","executable":false,"displayed":true,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":90000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"Compose","description":"Enter free form text and optionally drag fields into your text like a mail merge."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":true,"rules":{"*":{"types":["string"],"collection":false}},"data":{"umwN7ZYPkY":{"id":"umwN7ZYPkY","group":null,"key":"_text_","value":{"type":"string","collection":false,"data":"{ \"commands\": [ { \"type\":\"com.okta.access.patch\", \"value\": [ { \"op\": \"add\", \"path\": \"/claims/amr\", \"value\": output }, { \"op\": \"add\", \"path\": \"/claims/oidt\", \"value\": \"sub\" } ] }, { \"type\":\"com.okta.identity.patch\", \"value\": [ { \"op\": \"add\", \"path\": \"/claims/oid\", \"value\": \"sub\" } ] } ]}","available":[],"error":false},"required":true,"ref":false,"metadata":{"index":0},"flags":"d"}}},"outputs":{"extensible":false,"data":{"lVOOX7GrmB":{"id":"lVOOX7GrmB","group":null,"key":"output","value":{"type":"string","collection":false,"data":""},"ref":false,"metadata":{"index":0}}}},"runtime":{}}},"pins":{}},{"joins":{},"address":"root:kernel:object:0.0.1:expand","parents":{"version":{"address":"root:kernel:object:0.0.1","key":"0.0.1","data":{"name":"0.0.1"}},"channel":{"address":"root:kernel:object","key":"object","data":{"name":"object"}}},"uuid":"bxyDUNpRSY","branches":{},"node":{"key":"expand","data":{"name":"ig5XMXjNK"},"model":{"type":"method","_v":2,"key":"expand","executable":false,"displayed":false,"async":false,"cooperative":false,"mirrored":false,"inlined":false,"dependencies":[],"timeout":30000,"idempotent":false,"monitor":false,"webhook":false,"webhookList":false,"webhookConditions":false,"mobile":false,"hooks":{},"policy":{"error":{"type":"finish"}},"metadata":{"id":null,"name":"ig5XMXjNK","description":"Pick a set of keys out of an object with lists of keys."},"meta":{},"config":null,"partnerChannelKeys":null,"inputs":{"extensible":false,"data":{"Tm9Ph_MvSn":{"id":"Tm9Ph_MvSn","group":null,"key":"object","value":{"type":{"identity":{"type":{"claims":{"type":{"amr":{"type":"string","collection":true},"sub":{"type":"string","collection":false}},"collection":false}},"collection":false}},"collection":false,"data":{},"available":[],"error":false},"required":true,"ref":false,"metadata":{"srcMethodId":"ig5XMXjNK","srcOutputId":"QES4a4x34"},"flags":"d"}}},"outputs":{"extensible":true,"groupRules":{"*":{"type":"object","reserved":{"key":{"types":["string"],"collection":"*"},"value":{"types":["*"],"collection":"*"}},"extensible":false}},"data":{"8331Yw5Ied":{"id":"8331Yw5Ied","group":"0F8WtKYBFY","key":"key","value":{"error":false,"type":"string","collection":true,"data":["identity","claims","amr"],"available":[]},"ref":true,"metadata":{"path":["identity","claims","amr"],"srcMethodId":"ig5XMXjNK","srcOutputId":"QES4a4x34"}},"UUdwjneEw3":{"id":"UUdwjneEw3","group":"0F8WtKYBFY","key":"value","value":{"error":false,"type":"string","collection":true,"data":null,"available":[]},"ref":true,"metadata":{"path":["identity","claims","amr"],"srcMethodId":"ig5XMXjNK","srcOutputId":"QES4a4x34"},"_used":true}}},"runtime":{}}},"pins":{"UUdwjneEw3":{"_tlWWfm-g":[{"input":"KlZBtTx0s","transform":null}]}}}],"model":{},"orderings":{"uEq0h_U8P":["ig5XMXjNK","_tlWWfm-g"],"C5i41NlJTm":["_tlWWfm-g","3MaTuoFJ9"],"413OrBq13v":["3MaTuoFJ9","tjMeJYAdN"],"eLDC2lj7OW":["tjMeJYAdN","s9QbKHbgD"],"W-ytYy9bQT":["ig5XMXjNK","bxyDUNpRSY"],"odnZ-yYA_1":["bxyDUNpRSY","_tlWWfm-g"],"xzRdQsKm1Q":["bxyDUNpRSY","bxyDUNpRSY"]},"cron":{},"security_level":"medium","log":true,"inheritLog":true,"scheduled":false,"group":"33e47f03-f049-4d22-9fd3-d96b6adb2011","templateName":null,"connector_method_meta":{"inputs":{},"outputs":{},"options":{}},"monitor_flo":false}}},"configs":{},"tables":{},"groups":{"33e47f03-f049-4d22-9fd3-d96b6adb2011":{"id":"33e47f03-f049-4d22-9fd3-d96b6adb2011","data":{"name":"token inline hook","description":"","media_uri":"","path":""}}}}}
